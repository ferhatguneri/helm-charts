# References: 
# https://github.com/helm/charts/blob/master/stable/rabbitmq-ha/values.yaml
# https://github.com/bitnami/charts/tree/master/bitnami/rabbitmq


# ===============  Deprecated Rabbitmq =============== #

helm repo add stable https://charts.helm.sh/stable

helm install rabbitmq -f deprecated-rabbitmq-values.yaml --version 1.44.1 \
  --set rabbitmqErlangCookie=myverysecretcookie==,rabbitmqUsername=admin,rabbitmqPassword=passwordo,ingress.enabled=true,ingress.hostName=rabbitmq.host.com,persistentVolume.enabled=true,persistentVolume.size=1Gi,replicaCount=3 \
    stable/rabbitmq-ha --namespace services




# =============== Bitnami Rabbitmq ===============

helm repo add bitnami https://charts.bitnami.com/bitnami

helm install rabbitmq -f rabbitmq-values.yaml \
  --set auth.erlangCookie=myverysecretcookie,auth.username=admin,auth.password=passwordo,ingress.enabled=true,ingress.hostname=rabbitmq.host.com,persistence.enabled=true,persistence.size=1Gi,replicaCount=3 \
    bitnami/rabbitmq --namespace services
